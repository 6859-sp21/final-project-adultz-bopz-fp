{"version":3,"sources":["Bubbles.js","utils/utilities.js","utils/data-transform.js","utils/d3-config.js","steps/BubbleStep.js","gifs/demo0.gif","gifs/demo1.gif","gifs/demo2.gif","gifs/demo3.gif","steps/StorySteps.js","YearScroller.js","Timeline.js","steps/TutorialStep.js","App.js","About.js","RouterWrapper.js","index.js"],"names":["svg","view","label","node","focus","CUTS_VERSE","COUNT_BY_YEAR","max","min","2001","2002","2003","2004","2005","2006","2007","2008","2009","2010","2011","2012","2013","2014","2015","2016","2017","2018","2019","COLORS","d3","domain","identity","sexual","profanity","violence","other","purify","wordInput","genRawData","a","genNestedData","csvData","groupedByArtist","Array","from","d","ogArtist","map","item","groupedByBadword","badword","word","groupedBySong","songName","song","groupedByLyric","ogLyric","uniqueLyricGroup","firstUniqueEntry","kbLyric","compareLyrics","kbLyricHTML","ogLyricHTML","ogLyricHTMLCensored","name","children","category","genTimelineData","groupedByYear","year","groupedByCategory","count","length","leaves","parseInt","genArtists","artistList","artist","value","type","sort","b","localeCompare","ogLyricParsed","split","ogLyricObj","convertArrayToJSON","getFormattedOGLyricAsHTML","kbLyricParsed","getFormattedKBLyricAsHTML","punctuationless","s","replace","toLowerCase","arr","Object","assign","k","ogLyricWordArray","hideProfanity","ogWord","innerContent","includes","join","ogLyricWordObj","kbLyricWordArray","prev","kbWord","i","undefined","prefix","suffix","width","scale1","scale2","scale3","color","Bubbles","songOrArtist","setSongOrArtist","shouldFocus","useState","root","setRoot","setHideProfanity","showLegend","setShowLegend","d3Container","useRef","updateArtistTitle","shouldUpdate","artistSelected","wordSelected","songSelected","depth","VIEW_ALL_OPTION","data","parent","style","text","shouldShowLabel","r","zoomTo","v","attr","x","y","zoom","event","transition","duration","altKey","tween","t","filter","this","display","on","useEffect","res","size","padding","sum","fetchData","closeLyrics","remove","current","height","append","feMerge","selectAll","descendants","slice","e","target","pageX","pageY","generateLyricPopup","stopPropagation","content","document","addEventListener","handleEscape","removeEventListener","key","innerHTML","child","generateLyricRow","songTitle","releasedYear","categoryText","html","newFocus","className","id","checked","onChange","for","entries","backgroundColor","whiteSpace","ref","customStyles","control","base","border","borderRadius","borderBottom","boxShadow","placeholder","singleValue","indicatorSeparator","dropdownIndicator","input","menu","option","state","fontSize","isSelected","isFocused","BubbleStep","artists","setArtists","artistRes","autoFocus","options","styles","margin","IntroStep","to","Step1","textAlign","Step2a","src","Demo0","Step2b","Demo1","Step2c","Demo2","Step2d","Demo3","YearScroller","start","end","cx","selected","onClick","fill","_","idx","yr","Timeline","setYear","rawData","setRawData","setData","filtered","filterByYear","treemap","initData","fontScale","maxCountForYear","minCountForYear","range","fixProfanity","filterYear","tile","paddingInner","round","createLegend","categoryName","categoryData","reduce","opacity","getLegendTitleInfo","legendTextInfo","fontWeight","leaf","x0","y0","x1","y1","openModal","loadDataIntoPopup","toString","loadPopupRight","allSongs","songData","index","sectionRef","lyricData","subIndex","childContainer","comparedLyrics","compareLyricsInTimeline","closeModal","preventDefault","artistData","songDataFromFirstArtist","loadPopupLeft","popupRef","textBox","getBoundingClientRect","textWidth","textHeight","boxHeight","console","log","href","rel","newYear","TutorialStep","dynamicHeight","showStatus","showThumbs","App","currentStepIndex","setCurrentStepIndex","onStepEnter","flexDirection","About","RouterWrapper","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.54ee5826.chunk.js","sourcesContent":["import React, { useRef, useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport { genNestedData } from \"./utils/data-transform\";\nimport { width, height, pack } from \"./utils/d3-config.js\";\nimport { VIEW_ALL_OPTION } from \"./App\";\nimport \"./Bubbles.css\";\nimport { COLORS, purify } from \"./utils/utilities\";\n\nconst scale1 = d3\n  .scaleSequential(d3.interpolate(\"#00875A\", \"#ABF5D1\"))\n  .domain([0, 30]);\nconst scale2 = d3\n  .scaleSequential(d3.interpolate(\"#00B8D9\", \"#B3F5FF\"))\n  .domain([2, 8]);\nconst scale3 = d3\n  .scaleSequential(d3.interpolate(\"#C054BE\", \"#E1C7E0\"))\n  .domain([0, 8]);\n\n// TODO: Create scale 4\nconst color = [null, scale1, scale2, scale3, scale3];\n\nlet svg, view, label, node, focus;\n\nconst Bubbles = ({ songOrArtist, setSongOrArtist, shouldFocus }) => {\n  const [root, setRoot] = useState(null);\n  const [hideProfanity, setHideProfanity] = useState(true);\n  const [showLegend, setShowLegend] = useState(false);\n\n  const d3Container = useRef(null);\n\n  // don't call setSongOrArtist if title update is due to props change\n  const updateArtistTitle = (d, shouldUpdate) => {\n    let artistSelected;\n    let wordSelected;\n    let songSelected;\n\n    // update legend\n    if (shouldUpdate && d.depth >= 1) {\n      setShowLegend(true);\n    }\n\n    if (d.depth === 0) {\n      // artist level\n      if (shouldUpdate) {\n        setShowLegend(false);\n        setSongOrArtist(VIEW_ALL_OPTION);\n      }\n    } else if (d.depth === 1) {\n      // bad word level\n      if (shouldUpdate) {\n        setSongOrArtist({\n          value: d.data.name,\n          label: d.data.name,\n          type: \"artist\",\n        });\n      }\n      artistSelected = \"Artist: \" + d.data.name;\n      wordSelected = `Words altered in Kidz Bop songs by ${\n        hideProfanity ? purify(d.data.name) : d.data.name\n      }`;\n    } else if (d.depth === 2) {\n      // song level\n      artistSelected = \"Artist: \" + d.parent.data.name;\n      wordSelected = \"Word: \" + (hideProfanity ? purify(d.data.name) : d.data.name);\n      songSelected = `Songs that ${d.parent.data.name} say(s) '${\n        hideProfanity ? purify(d.data.name) : d.data.name\n      }'`;\n    } else if (d.depth === 3) {\n      artistSelected = \"Artist: \" + d.parent.parent.data.name;\n      wordSelected = \"Word: \" + (hideProfanity ? purify(d.parent.data.name) : d.parent.data.name);\n      songSelected = \"Song: \" + d.data.name;\n    }\n\n    d3.select(\"#selectedAllArtist\")\n      .style(\"font-weight\", d.depth === 0 ? 400 : 200)\n      .style(\"border-left\", d.depth === 0 ? \"var(--light-green) solid 2px\" : \"none\")\n      .text(artistSelected ? artistSelected : \"All Artists\");\n\n    d3.select(\"#selectedArtistName\")\n      .style(\"font-weight\", d.depth === 1 ? 400 : 200)\n      .style(\"border-left\", d.depth === 1 ? \"var(--light-green) solid 2px\" : \"none\")\n      .text(wordSelected ? wordSelected : \"Words\");\n\n    d3.select(\"#selectedBadWord\")\n      .style(\"font-weight\", d.depth === 2 ? 400 : 200)\n      .style(\"border-left\", d.depth === 2 ? \"var(--light-green) solid 2px\" : \"none\")\n      .text(songSelected ? songSelected : \"Songs\");\n\n    d3.select(\"#selectedSong\")\n      .style(\"font-weight\", d.depth === 3 ? 400 : 200)\n      .style(\"border-left\", d.depth === 3 ? \"var(--light-green) solid 2px\" : \"none\")\n      .text(\n        d.depth === 3\n          ? `Lyrics in '${d.data.name}' where the word '${\n              hideProfanity ? purify(d.parent.data.name) : d.parent.data.name\n            }' is altered`\n          : \"Lyrics\"\n      );\n  };\n\n  const shouldShowLabel = (d) => {\n    return (d.parent === root && d.r > d.data.name.length * 2) || d.depth > 1;\n  };\n\n  const zoomTo = (v) => {\n    const k = width / v[2];\n    view = v;\n    label.attr(\"transform\", (d) => {\n      return `translate(${(d.x - v[0]) * k},${(d.y - v[1]) * k})`;\n    });\n    node.attr(\n      \"transform\",\n      (d) => `translate(${(d.x - v[0]) * k},${(d.y - v[1]) * k})`\n    );\n    node.attr(\"r\", (d) => d.r * k);\n  };\n\n  const zoom = (event, d) => {\n    focus = d;\n\n    const transition = svg\n      .transition()\n      .duration(event.altKey ? 7500 : 750)\n      .tween(\"zoom\", (d) => {\n        const i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2]);\n        return (t) => zoomTo(i(t));\n      });\n\n    node\n      .filter(function (d) {\n        return d.parent === focus || this.style.display === \"inline\";\n      })\n      .transition(transition)\n      .style(\"fill-opacity\", (d) => (d.parent === focus ? 1 : 0))\n      .on(\"start\", function (d) {\n        if (d.parent === focus) this.style.display = \"inline\";\n      })\n      .on(\"end\", function (d) {\n        if (d.parent !== focus) this.style.display = \"none\";\n      });\n\n    label\n      .filter(function (d) {\n        return d.parent === focus || this.style.display === \"inline\";\n      })\n      .transition(transition)\n      .style(\"fill-opacity\", (d) => (d.parent === focus ? 1 : 0))\n      .on(\"start\", function (d) {\n        if (shouldShowLabel(d)) this.style.display = \"inline\";\n      })\n      .on(\"end\", function (d) {\n        if (d.parent !== focus) this.style.display = \"none\";\n      });\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const res = await genNestedData();\n      const input = { name: \"artists\", children: res };\n      setRoot(pack(input));\n    };\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    if (!shouldFocus && focus && focus.depth === 2) {\n      closeLyrics()\n    }\n  }, [shouldFocus]);\n\n  /* The useEffect Hook is for running side effects outside of React,\n       for instance inserting elements into the DOM using D3 */\n  useEffect(() => {\n    d3.selectAll(\"#bubbles > *\").remove();\n\n    if (root && d3Container.current) {\n      focus = root;\n\n      // viz container\n      svg = d3\n        .select(d3Container.current)\n        .attr(\"viewBox\", `-${width / 2} -${height / 2} ${width} ${height}`)\n        .style(\"display\", \"block\")\n        .style(\"height\", \"80vh\")\n        .style(\"margin\", \"0 -14px\")\n        .attr(\"text-anchor\", \"middle\")\n        .style(\"cursor\", \"pointer\")\n        .on(\"click\", (event) => {\n          if (focus !== root) {\n            if (d3.select(\"#lyrics\").style(\"z-index\") > 0) {\n              // Hide lyrics when escape button pushed\n              closeLyrics();\n            } else {\n              updateArtistTitle(focus.parent, true);\n              zoom(event, focus.parent);\n            }\n          }\n        });\n\n      // glow\n      const defs = svg.append(\"defs\");\n      const filter = defs.append(\"filter\").attr(\"id\", \"glow\");\n      filter.append(\"feGaussianBlur\").attr(\"stdDeviation\", \"2\").attr(\"result\", \"coloredBlur\");\n      const feMerge = filter.append(\"feMerge\");\n      feMerge.append(\"feMergeNode\").attr(\"in\", \"coloredBlur\");\n      feMerge.append(\"feMergeNode\").attr(\"in\", \"SourceGraphic\");\n\n      // circle nodes\n      node = svg\n        .append(\"g\")\n        .selectAll(\"circle\")\n        .data(root.descendants().slice(1))\n        .join(\"circle\")\n        .attr(\"stroke\", (d) => {\n          if (d.depth == 2) {\n            return COLORS[d.data.category](7);\n          } else if (d.depth == 3) {\n            return COLORS[d.parent.data.category](d.r);\n          }\n          if (typeof color[d.depth] === \"function\") {\n            return color[d.depth](d.r);\n          }\n        })\n        .attr(\"fill\", \"transparent\")\n        .style(\"display\", (d) => (d.parent === root ? \"inline\" : \"none\"))\n        .on(\"mouseover\", (e, d) => {\n          d3.select(e.target).attr(\"stroke-width\", 4).style(\"filter\", \"url(#glow)\");\n          if (!shouldShowLabel(d)) {\n            d3.select(\"#tooltip\").transition().duration(200).style(\"opacity\", 1).text(d.data.name);\n          }\n        })\n        .on(\"mousemove\", (e) => {\n          d3.select(\"#tooltip\")\n            .style(\"left\", e.pageX + 10 + \"px\")\n            .style(\"top\", e.pageY - 10 + \"px\");\n        })\n        .on(\"mouseout\", (e) => {\n          d3.select(e.target).attr(\"stroke-width\", 1).style(\"filter\", null);\n          d3.select(\"#tooltip\").transition().duration(200).style(\"opacity\", 0);\n        })\n        .on(\"click\", (event, d) => {\n          if (focus !== d) {\n            updateArtistTitle(d, true);\n\n            // Only zoom until you get to song level. Then reveal bad words in each song.\n            if (d.depth < 3) {\n              zoom(event, d);\n            } else if (d.depth === 3) {\n              generateLyricPopup(d.data);\n            }\n            event.stopPropagation();\n          }\n        });\n\n      // labels\n      label = svg\n        .append(\"g\")\n        .attr(\"pointer-events\", \"none\")\n        .attr(\"text-anchor\", \"middle\")\n        .selectAll(\"text\")\n        .data(root.descendants())\n        .join(\"text\")\n          .attr(\"class\", (d) => \"label-text-node-depth-\" + d.depth)\n          .style(\"font\", (d) => (d.depth === 1 ? \"8px Lato\" : \"12px Lato\"))\n          .style(\"fill\", \"white\")\n          .style(\"fill-opacity\", (d) => (d.parent === root ? 1 : 0))\n          .style(\"display\", (d) => (shouldShowLabel(d) ? \"inline\" : \"none\"))\n          .text((d) => {\n            let content = (!d.children ? d.data.songName : d.data.name);\n            let filteredContent = (hideProfanity ? purify(content) : content);\n            return filteredContent;\n          });\n\n      // tooltip\n      d3.select(\"#scrollApp\")\n        .append(\"div\")\n        .attr(\"id\", \"tooltip\")\n        .attr(\"style\", \"position: absolute; opacity: 0;\")\n        .style(\"color\", \"white\")\n        .style(\"background-color\", \"#334e68bb\")\n        .style(\"padding\", \"8px\")\n        .style(\"border-radius\", \"4px\");\n\n      // description text\n      d3.select(\"#selectedAllArtist\")\n        .style(\"font-weight\", \"400\")\n        .style(\"border-left\", \"var(--light-green) solid 2px\");\n\n      // Lyric breakdown\n      d3.select(\"#svg-container\")\n        .append(\"div\")\n        .attr(\"id\", \"lyrics\")\n        .style(\"z-index\", \"-10\")\n        .style(\"position\", \"fixed\")\n        .style(\"opacity\", \"0\")\n        .style(\"pointer-events\", \"none\")\n        .style(\"width\", \"40vw\")\n        .style(\"height\", \"60vh\")\n        .style(\"left\", \"50%\")\n        .style(\"top\", \"50%\")\n        .style(\"overflow\", \"auto\")\n        .style(\"color\", \"var(--light-text)\")\n        .style(\"font\", \"16px Lato\")\n        .style(\"background-color\", \"var(--dark-secondary)\")\n        .style(\"padding\", \"24px\")\n        .style(\"border-radius\", \"12px\")\n        .style(\"transform\", \"translate(-50%, -50%)\");\n\n      d3.select(\"#lyrics\")\n        .append(\"button\")\n        .style(\"position\", \"absolute\")\n        .style(\"right\", \"12px\")\n        .style(\"top\", \"12px\")\n        .text(\"\\u00d7\")\n        .on(\"click\", () => {\n          // Close lyric pop-up\n          closeLyrics();\n        });\n\n      d3.select(\"#lyrics\")\n        .append(\"h2\")\n        .style(\"margin-top\", 0)\n        .style(\"text-align\", \"center\")\n        .attr(\"id\", \"lyrics-title\");\n\n      d3.select(\"#scrollApp\")\n        .append(\"div\")\n        .attr(\"id\", \"lyric-popup-bg\")\n        .style(\"background-color\", \"black\")\n        .style(\"max-height\", \"100vh\")\n        .style(\"max-width\", \"100vw\")\n        .style(\"min-height\", \"100vh\")\n        .style(\"min-width\", \"100vw\")\n        .style(\"position\", \"fixed\")\n        .style(\"top\", \"0px\")\n        .style(\"left\", \"0px\")\n        .style(\"opacity\", \"0\")\n        .style(\"z-index\", \"-11\")\n        .on(\"click\", () => {\n          closeLyrics();\n        });\n\n      d3.select(\"#lyrics\").append(\"p\").style(\"text-align\", \"center\").attr(\"id\", \"lyrics-year\");\n      d3.select(\"#lyrics\").append(\"p\").style(\"text-align\", \"center\").attr(\"id\", \"lyrics-category\");\n\n      d3.select(\"#lyrics\").append(\"div\").attr(\"id\", \"lyrics-content\");\n\n      // esc key zooms out\n      zoomTo([root.x, root.y, root.r * 2]);\n      document.addEventListener(\"keydown\", handleEscape);\n\n      return () => {\n        document.removeEventListener(\"keydown\", handleEscape);\n      };\n    }\n  }, [root]);\n\n  const closeLyrics = () => {\n    d3.select(\"html\").style(\"overflow\", \"auto\").style(\"height\", \"auto\");\n    d3.select(\"#lyric-popup-bg\").style(\"opacity\", \"0\").style(\"z-index\", \"-11\");\n    d3.select(\"#lyrics\")\n      .transition()\n      .duration(200)\n      .style(\"opacity\", 0)\n      .style(\"z-index\", -10)\n      .style(\"pointer-events\", \"none\");\n    updateArtistTitle(focus, false);\n  };\n\n  const handleEscape = (e) => {\n    if (e.key === \"Escape\") {\n      if (d3.select(\"#lyrics\").style(\"z-index\") > 0) {\n        // Hide lyrics when escape button pushed\n        closeLyrics();\n      } else if (focus !== root) {\n        updateArtistTitle(focus.parent, true);\n        zoom(e, focus.parent);\n      }\n    }\n  };\n\n  const generateLyricRow = (data) => {\n    let ogHeader = `<b>${data.ogArtist}</b><br />`;\n    let ogLyricHTML =\n      `<div class=\"Bubbles-ogLyric ${data.category}\">` +\n      (hideProfanity ? data.ogLyricHTMLCensored : data.ogLyricHTML) +\n      \"</div>\";\n\n    let kbHeader = \"<b style='float:right'>Kidz Bop</b><br />\";\n    let kbLyricHTML =\n      `<div class=\"Bubbles-kbLyric\">` + data.kbLyricHTML + \"</div>\";\n\n    return (\n      \"<div style='width:45%'>\" +\n      ogHeader +\n      ogLyricHTML +\n      \"</div>\" +\n      \"<div class='Bubbles-arrow'>\\u2192</div>\" +\n      \"<div style='width:45%'>\" +\n      kbHeader +\n      kbLyricHTML +\n      \"</div>\"\n    );\n  };\n\n  // Function to transform data into HTML content\n  const generateLyricPopup = (data) => {\n    d3.select(\"html\").style(\"overflow\", \"hidden\").style(\"height\", \"100%\");\n    d3.select(\"#lyric-popup-bg\").style(\"z-index\", \"8\").style(\"opacity\", \"0.6\");\n    // Merge all lyrics together\n    const innerHTML = data.children\n      .map((child) => {\n        return '<div class=\"Bubbles-lyricRow\">' + generateLyricRow(child) + \"</div>\";\n      })\n      .join(\"\");\n\n    let { songName, ogArtist, year, category } = data.children[0];\n    const songTitle = songName + \" by \" + ogArtist;\n    const releasedYear = \"Released in \" + year + \".\";\n    const categoryText = \"Category: \" + category;\n\n    // Fill in title of lyric popup\n    d3.select(\"#lyrics-title\")\n      .style(\"font-weight\", \"bold\")\n      .style(\"margin-bottom\", 0)\n      .text(songTitle);\n\n    // Fill in year of lyric popup\n    d3.select(\"#lyrics-year\").style(\"margin-top\", 0).style(\"margin-bottom\", 0).text(releasedYear);\n\n    // Fill in category of word\n    d3.select(\"#lyrics-category\")\n      .style(\"margin-top\", 0)\n      .style(\"margin-bottom\", 0)\n      .style(\"color\", COLORS[category](7))\n      .text(categoryText);\n\n    // Fill in content of lyric popup\n    d3.select(\"#lyrics-content\").html(innerHTML);\n\n    // Reveal lyric popup\n    d3.select(\"#lyrics\")\n      .transition()\n      .duration(200)\n      .style(\"z-index\", 10)\n      .style(\"opacity\", 1)\n      .style(\"pointer-events\", \"all\");\n  };\n\n  useEffect(() => {\n    if (songOrArtist && root) {\n      const newFocus = root\n        .descendants()\n        .filter((d) => d.data.name === songOrArtist.value)[0];\n      if (newFocus) {\n        zoom({}, newFocus);\n        updateArtistTitle(newFocus, false);\n      }\n    }\n  }, [songOrArtist, root, zoom]);\n\n\n  useEffect(() => {\n    d3.selectAll(\".label-text-node-depth-2\")\n      .text((d) => {\n        let content = (!d.children ? d.data.songName : d.data.name);\n        let filteredContent = (hideProfanity ? purify(content) : content);\n        return filteredContent;\n      });\n\n    d3.selectAll(\"circle\").on(\"click\", (event, d) => {\n      if (focus !== d) {\n        updateArtistTitle(d, true);\n\n        // Only zoom until you get to song level. Then reveal bad words in each song.\n        if (d.depth < 3) {\n          zoom(event, d);\n        } else if (d.depth === 3) {\n          generateLyricPopup(d.data);\n        }\n        event.stopPropagation();\n      }\n    });\n  }, [hideProfanity])\n\n  const toggleProfanity = () => {\n    setHideProfanity(!hideProfanity);\n  }\n\n  const createLegend = () => (\n    <div className=\"Bubbles-legend\">\n      {Object.entries(COLORS).map(([category, color], i) => {\n        return (\n          <div className=\"Timeline-legend-item\">\n            <div className=\"circle\" style={{ backgroundColor: color(7) }} />\n            <div style={{ whiteSpace: \"nowrap\" }}>{category}</div>\n          </div>\n        );\n      })}\n    </div>\n  );\n\n  return (\n    <div className=\"Bubbles-container\">\n      <div className=\"Bubbles-checkbox\">\n        <input\n          type=\"checkbox\"\n          id=\"bubbleProfanity\"\n          checked={hideProfanity}\n          onChange={toggleProfanity}\n        ></input>\n        <label for=\"bubbleProfanity\">Hide Profanity</label>\n      </div>\n      {showLegend ? createLegend() : null}\n      <div className=\"Bubbles-content\">\n        <div>\n          <h3 className=\"Bubbles-layer\" id=\"selectedAllArtist\">\n            All Artists\n          </h3>\n          <h3 className=\"Bubbles-layer\" id=\"selectedArtistName\">\n            Words\n          </h3>\n          <h3 className=\"Bubbles-layer\" id=\"selectedBadWord\">\n            Songs\n          </h3>\n          <h3 className=\"Bubbles-layer\" id=\"selectedSong\">\n            Lyrics\n          </h3>\n        </div>\n        <div id=\"svg-container\" style={{ width: \"100%\" }}>\n          <svg className=\"d3-component\" width=\"100%\" height=\"100%\" ref={d3Container} id=\"bubbles\" />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Bubbles;\n","import * as d3 from \"d3\";\nimport profanity from \"profanity-util\";\n\nexport const CUTS_VERSE = \"cuts verse\";\n\nexport const COUNT_BY_YEAR = {\n  \"-1\": {\n    max: 32,\n    min: 1\n  },\n  2001: {\n    max: 1,\n    min: 1,\n  },\n  2002: {\n    max: 4,\n    min: 1,\n  },\n  2003: {\n    max: 3,\n    min: 1,\n  },\n  2004: {\n    max: 3,\n    min: 1,\n  },\n  2005: {\n    max: 2,\n    min: 1,\n  },\n  2006: {\n    max: 6,\n    min: 1,\n  },\n  2007: {\n    max: 8,\n    min: 1,\n  },\n  2008: {\n    max: 8,\n    min: 1,\n  },\n  2009: {\n    max: 9,\n    min: 1,\n  },\n  2010: {\n    max: 8,\n    min: 1,\n  },\n  2011: {\n    max: 5,\n    min: 1,\n  },\n  2012: {\n    max: 9,\n    min: 1,\n  },\n  2013: {\n    max: 11,\n    min: 1,\n  },\n  2014: {\n    max: 6,\n    min: 1,\n  },\n  2015: {\n    max: 13,\n    min: 1,\n  },\n  2016: {\n    max: 10,\n    min: 1,\n  },\n  2017: {\n    max: 11,\n    min: 1,\n  },\n  2018: {\n    max: 15,\n    min: 1,\n  },\n  2019: {\n    max: 32,\n    min: 1,\n  },\n};\n\nexport const COLORS = {\n  \"alcohol & drugs\": d3.scaleSequential(d3.interpolate(\"#88d4af\",  \"#00875A\")).domain([1, 10]),\n  identity: d3.scaleSequential(d3.interpolate(\"#99efff\",  \"#008ba5\")).domain([1, 10]),\n  sexual: d3.scaleSequential(d3.interpolate(\"#ffbbfe\",  \"#C054BE\")).domain([1, 10]),\n  profanity: d3.scaleSequential(d3.interpolate(\"#ffe5b0\",  \"#FFAB00\")).domain([1, 10]),\n  violence: d3.scaleSequential(d3.interpolate(\"#ffbeb0\",  \"#FF5630\")).domain([1, 10]),\n  other: d3.scaleSequential(d3.interpolate(\"#c2cfd8\",  \"#596066\")).domain([1, 10]),\n};\n\n\nexport const purify = (wordInput) => {\n  return profanity.purify(wordInput)[0];\n}","import * as d3 from \"d3\";\nimport { purify } from \"./utilities\";\n\nexport const genRawData = async () => {\n  return await d3.csv(\n    \"https://raw.githubusercontent.com/the-pudding/data/master/kidz-bop/KB_censored-lyrics.csv\"\n  );\n};\n\nexport const genNestedData = async () => {\n  const csvData = await genRawData();\n\n  let groupedByArtist = Array.from(\n      d3.group(csvData, (d) => d.ogArtist)\n    ).map((item) => {\n      let groupedByBadword = Array.from(\n        d3.group(item[1], (d) => d.badword)\n      ).map((word) => {\n        let groupedBySong = Array.from(\n          d3.group(word[1], (d) => d.songName)\n        ).map((song) => {\n          // Remove repeated lyrics\n          let groupedByLyric = Array.from(\n            d3.group(song[1], (d) => d.ogLyric)\n          ).map((uniqueLyricGroup) => {\n            // uniqueLyricGroup = is a size-2 array with lyric and index 0 and array of data points at index 1\n            let dataEntries = uniqueLyricGroup[1];\n            let firstUniqueEntry = dataEntries[0];\n            const { ogLyric, kbLyric, badword } = firstUniqueEntry;\n\n            let { kbLyricHTML, ogLyricHTML, ogLyricHTMLCensored } = compareLyrics(\n              badword,\n              ogLyric,\n              kbLyric\n            );\n            return {\n              ...firstUniqueEntry,\n              kbLyricHTML: kbLyricHTML,\n              ogLyricHTML: ogLyricHTML,\n              ogLyricHTMLCensored: ogLyricHTMLCensored\n            };\n          });\n          return { name: song[0], children: groupedByLyric };\n        });\n        return { name: word[0], category: word[1][0].category, children: groupedBySong };\n      });\n      return { name: item[0], children: groupedByBadword };\n    });\n  return groupedByArtist;\n};\n\nexport const genTimelineData = async () => {\n  const csvData = await genRawData();\n\n  let groupedByYear = Array.from(d3.group(csvData, (d) => d.year)).map(\n    (year) => {\n      let groupedByCategory = Array.from(\n        d3.group(year[1], (d) => d.category)\n      ).map((category) => {\n        let groupedByBadword = Array.from(\n          d3.group(category[1], (d) => d.badword)\n        ).map((badword) => {\n          return { name: badword[0], count: badword[1].length, leaves: badword[1], category: category[0]  };\n        });\n\n        return { name: category[0], children: groupedByBadword };\n      });\n      return {\n        name: \"allCategories\",\n        year: parseInt(year[0]),\n        children: groupedByCategory,\n      };\n    }\n  );\n  return { name: \"allYears\", children: groupedByYear };\n};\n\nexport const genArtists = async () => {\n  const csvData = await genRawData();\n  const artistList = Array.from(d3.group(csvData, (d) => d.ogArtist))\n    .map((artist) => {\n      return { label: artist[0], value: artist[0], type: \"artist\" };\n    })\n    .sort((a, b) => a.label.localeCompare(b.label));\n  return artistList;\n};\n\nexport const genSongs = async () => {\n  const csvData = await genRawData();\n  const songList = Array.from(d3.group(csvData, (d) => d.songName))\n    .map((song) => {\n      return { label: song[0], value: song[0], type: \"song\" };\n    })\n    .sort((a, b) => a.label.localeCompare(b.label));\n  return songList;\n};\n\nconst compareLyrics = (badword, ogLyric, kbLyric) => {\n  let ogLyricParsed = ogLyric.split(\" \");\n  let ogLyricObj = convertArrayToJSON(ogLyricParsed);\n  let ogLyricHTML = getFormattedOGLyricAsHTML(ogLyricParsed, badword, false);\n  let ogLyricHTMLCensored = getFormattedOGLyricAsHTML(ogLyricParsed, badword, true);\n\n  let kbLyricParsed = kbLyric.split(\" \");\n  let kbLyricHTML =\n    kbLyric === \"cuts verse\"\n      ? \"<i>cuts verse</i>\"\n      : getFormattedKBLyricAsHTML(ogLyricObj, kbLyricParsed);\n\n  return {\n    kbLyricHTML: \"<span>\" + kbLyricHTML + \"</span>\",\n    ogLyricHTML: \"<span>\" + ogLyricHTML + \"</span>\",\n    ogLyricHTMLCensored: \"<span>\" + ogLyricHTMLCensored + \"</span>\"\n  };\n};\n\nconst punctuationless = (s) => s.replace(/[^A-Za-z0-9]/g, \"\").toLowerCase();\n\nconst convertArrayToJSON = (arr) =>\n  Object.assign(...arr.map((k) => ({ [punctuationless(k)]: 0 })));\n\nconst getFormattedOGLyricAsHTML = (ogLyricWordArray, badword, hideProfanity) => {\n  return ogLyricWordArray\n    .map((ogWord) => {\n      let innerContent = (hideProfanity) ? purify(ogWord) : ogWord;\n      return (\n        \"<span class='ogLyric-\" +\n        (ogWord.toLowerCase().includes(badword) ? \"bad\" : \"good\") +\n        \"'>\" +\n        innerContent +\n        \"</span>\"\n      );\n    })\n    .join(\" \");\n};\n\nconst getFormattedKBLyricAsHTML = (ogLyricWordObj, kbLyricWordArray) => {\n  let prev = true; // true if same, false if altered\n  return kbLyricWordArray\n    .map((kbWord, i) => {\n      // Check if KB Word exists in OG Lyric\n      let kbWordInOGLyric =\n        ogLyricWordObj[punctuationless(kbWord)] !== undefined;\n\n      if (kbWordInOGLyric) {\n        // Word is in both OG and KB Lyric\n        // if prev word was a altered lyric, close the span\n        let prefix = !prev\n          ? \"</span><span class='kblyric-same start'>\"\n          : \"<span class='kblyric-same'>\";\n        prev = true;\n        return prefix + kbWord + \"</span> \";\n      } else {\n        // kbWord is not in og lyric\n        // CHANGE\n        // if it is the last word in the word array, close the span if the previous word is a altered word\n        let suffix =\n          !prev && kbLyricWordArray.length - 1 === i ? \"</span>\" : \"\";\n        // if the previous word is a different word, don't start the span\n        let prefix = prev ? \"<span class='kblyric-different'>\" : \"\";\n        prev = false;\n        return prefix + kbWord + suffix;\n      }\n    })\n    .join(\" \");\n};\n\n\nexport const compareLyricsInTimeline = (lyricData) => {\n  let { badword, ogLyric, kbLyric } = lyricData;\n  return compareLyrics(badword, ogLyric, kbLyric);\n}","import * as d3 from \"d3\";\n\n// svg colors + dims\nexport const width = 500;\nexport const height = 500;\nexport const pack = (data) =>\n  d3.pack().size([width, height]).padding(3)(\n    d3\n      .hierarchy(data)\n      .sum((d) => d.count)\n      .sort((a, b) => b.count - a.count)\n  );\n","import React, { useState, useEffect } from 'react';\nimport Select from \"react-select\";\nimport { genArtists } from \"../utils/data-transform\";\nimport Bubbles from '../Bubbles.js';\nimport \"../App.css\";\nimport \"./BubbleStep.css\"\n\nconst customStyles = {\n  control: (base) => ({\n    ...base,\n    backgroundColor: \"var(--dark)\",\n    color: \"var(--light-text)\",\n    border: \"none\",\n    borderRadius: \"0\",\n    borderBottom: \"2px solid var(--light-green)\",\n    boxShadow: \"none\",\n    \"&:hover\": {\n      borderBottom: \"2px solid var(--blue)\",\n    },\n  }),\n  placeholder: (base) => ({\n    ...base,\n    backgroundColor: \"var(--dark)\",\n    color: \"var(--dark-text)\",\n  }),\n  singleValue: (base) => ({\n    ...base,\n    color: \"var(--light-text)\",\n  }),\n  indicatorSeparator: () => ({\n    display: \"none\",\n  }),\n  dropdownIndicator: (base) => ({\n    ...base,\n    color: \"var(--light-green)\",\n    \"&:hover\": {\n      color: \"var(--blue)\",\n    },\n  }),\n  input: (base) => ({\n    ...base,\n    color: \"var(--light-text)\",\n  }),\n  menu: (base) => ({\n    ...base,\n    backgroundColor: \"var(--dark)\",\n    color: \"var(--light-text)\",\n  }),\n  option: (base, state) => ({\n    ...base,\n    fontSize: \"16px\",\n    color: \"var(--light-text)\",\n    backgroundColor: state.isSelected\n      ? \"var(--blue)\"\n      : state.isFocused\n      ? \"var(--dark-green)\"\n      : \"var(--dark)\",\n  }),\n};\n\n\nconst BubbleStep = ({shouldFocus}) => {\n\n  const [songOrArtist, setSongOrArtist] = useState(null);\n  const [artists, setArtists] = useState([]);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      const artistRes = await genArtists();\n      setArtists(artistRes);\n    };\n    fetchData();\n  }, []);\n\n  return (\n    <div className=\"Bubbles-all\">\n      <div className=\"App-escape\">press ESC to zoom out</div>\n      <div className=\"App-header\">\n        What's\n        <Select\n          className=\"App-select\"\n          autoFocus={shouldFocus}\n          placeholder=\"your favorite artist\"\n          options={[...artists]}\n          value={songOrArtist}\n          onChange={setSongOrArtist}\n          styles={customStyles}\n        />\n        spitting?\n      </div>\n      <div className=\"App-header\" style={{margin: 0}}>\n        <Bubbles shouldFocus={shouldFocus} songOrArtist={songOrArtist} setSongOrArtist={setSongOrArtist} />\n      </div>\n      <div className=\"App-data\">data from The Pudding (https://github.com/the-pudding/data/tree/master/kidz-bop)</div>\n    </div>\n  );\n\n}\n\nexport default BubbleStep","export default __webpack_public_path__ + \"static/media/demo0.b37bdfc9.gif\";","export default __webpack_public_path__ + \"static/media/demo1.cf4fdfdd.gif\";","export default __webpack_public_path__ + \"static/media/demo2.c3f91497.gif\";","export default __webpack_public_path__ + \"static/media/demo3.d3482ee8.gif\";","import \"./StorySteps.css\";\nimport Demo0 from \"../gifs/demo0.gif\";\nimport Demo1 from \"../gifs/demo1.gif\";\nimport Demo2 from \"../gifs/demo2.gif\";\nimport Demo3 from \"../gifs/demo3.gif\";\nimport { Link } from \"react-router-dom\";\n\nexport const IntroStep = () => (\n  <div className=\"IntroStep\">\n    <div className=\"header\">Adultz Bopz</div>\n    <div className=\"desc\">\n      An interactive data visualization tool to understand how Kidz Bop alters\n      or censors pop music for kids.\n    </div>\n    <div className=\"notice\">\n      Note: The following visualizations include curse words and are censored by\n      default, but you can explore the content and language.\n    </div>\n    <Link className=\"launch-button\" to=\"/\">View our project page here.</Link>\n  </div>\n);\n\nexport const Step1 = () => (\n  <div style={{ margin: \"15vw\", textAlign: \"left\" }}>\n    <h2 className=\"header\">Curious to see how you're favorite artists song's have been altered?</h2>\n    <h3>Explore the following bubble visualization to find out!</h3>\n  </div>\n);\n\nexport const Step2 = () => (\n  <div style={{ margin: \"0 15vw\", textAlign: \"left\" }}>\n    <h2 className=\"header\">How It Works</h2>\n    <p className=\"Step2-p\">\n      All the songs by a certain artist are grouped together in a bubble with a\n      label of their name. For smaller artists, you can hover over their bubble\n      to see which artist it is.\n    </p>\n    <p className=\"Step2-p\">\n      Clicking on an artists bubble takes you inside to show all the songs by a\n      certain artist grouped by their altered or censored word.\n    </p>\n    <p className=\"Step2-p\">\n      Clicking on an word bubble all the songs from that artist with the bad\n      word you clicked.\n    </p>\n    <p className=\"Step2-p\">\n      You can click on each song to reveal the original and Kids Bop lyrics.\n    </p>\n  </div>\n);\n\nexport const Step2a = () => (\n  <div className=\"Step2\">\n    <h2 className=\"Step2-p\">\n      All the songs by a certain artist are grouped together in a bubble with a\n      label of their name. For smaller artists, you can hover over their bubble\n      to see which artist it is.\n    </h2>\n    <img className=\"center-image\" src={Demo0} />\n  </div>\n);\n\nexport const Step2b = () => (\n  <div className=\"Step2\">\n    <h2 className=\"Step2-p\">\n      Clicking on an artists bubble takes you inside to show all the songs by a\n      certain artist grouped by their altered or censored word.\n    </h2>\n    <img className=\"center-image\" src={Demo1} />\n  </div>\n);\n\nexport const Step2c = () => (\n  <div className=\"Step2\">\n    <h2 className=\"Step2-p\">\n      Clicking on an word bubble shows all the songs from that artist with the\n      censored word you clicked.\n    </h2>\n    <img className=\"center-image\" src={Demo2} />\n  </div>\n);\n\nexport const Step2d = () => (\n  <div className=\"Step2\">\n    <h2 className=\"Step2-p\">\n      You can click on each song to reveal the original and Kids Bop lyrics.\n    </h2>\n    <img className=\"center-image\" src={Demo3} />\n  </div>\n);\n","import React from \"react\";\nimport cx from \"classnames\";\nimport \"./YearScroller.css\";\n\nexport const MIN_YEAR = 2001;\nexport const MAX_YEAR = 2019;\nexport const ALL_YEARS = -1;\n\nconst YearScroller = ({ year, onChange }) => {\n  const range = (start, end) => {\n    return Array(end - start + 1)\n      .fill()\n      .map((_, idx) => start + idx);\n  };\n  return (\n    <div className=\"year-scroller\">\n      <div\n        id=\"yearscroller-id-all\"\n        className={cx(\"single-year\", { selected: year === ALL_YEARS })}\n        onClick={() => onChange(ALL_YEARS)}\n      >\n        All years\n      </div>\n      {range(MIN_YEAR, MAX_YEAR).map((yr, idx) => {\n        return (\n          <div\n            id={\"yearscroller-id-\" + idx}\n            className={cx(\"single-year\", { selected: year === yr })}\n            onClick={() => onChange(yr)}\n          >\n            {yr}\n          </div>\n        );\n      })}\n    </div>\n  );\n};\n\nexport default YearScroller;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { genTimelineData, compareLyricsInTimeline } from \"./utils/data-transform\";\nimport * as d3 from \"d3\";\nimport \"./Timeline.css\";\nimport YearScroller from \"./YearScroller\";\nimport { CUTS_VERSE, COUNT_BY_YEAR, COLORS, purify } from \"./utils/utilities\";\n\nconst Timeline = () => {\n  const [year, setYear] = useState(2019);\n  const [rawData, setRawData] = useState(null);\n  const [data, setData] = useState(null);\n  const [hideProfanity, setHideProfanity] = useState(true);\n\n  const d3Container = useRef(null);\n  const width = 800;\n  const height = 500;\n\n  useEffect(() => {\n    const initData = async () => {\n      const res = await genTimelineData();\n      setRawData(res);\n      const filtered = filterByYear(year, res);\n      setData(treemap(filtered));\n    };\n    initData();\n  }, []);\n\n  useEffect(() => {\n    if (rawData !== null) {\n      const filtered = filterByYear(year, rawData);\n      setData(treemap(filtered));\n    }\n  }, [year, rawData]);\n\n  const fontScale = (count) => {\n    let maxCountForYear = COUNT_BY_YEAR[year].max;\n    let minCountForYear = COUNT_BY_YEAR[year].min;\n\n    return d3.scaleLinear().domain([minCountForYear, maxCountForYear]).range([12, 28])(count);\n  } \n\n  const fixProfanity = (text) => {\n    return hideProfanity ? purify(text) : text\n  }\n\n  const filterByYear = (filterYear, rawData) => {\n    return rawData.children.filter(({ year }) => filterYear === -1 ? true: year === filterYear)[0];\n  };\n\n  const treemap = (data) =>\n    d3\n      .treemap()\n      .tile(d3.treemapSquarify)\n      .size([width, height])\n      .paddingInner(3)\n      .round(true)(\n      d3\n        .hierarchy(data)\n        .sum((d) => d.count)\n        .sort((a, b) => b.data.count - a.data.count)\n    );\n\n  const createLegend = () => {\n    const getLegendTitleInfo = (categoryName) => {\n      let categoryData = data.children.filter((item) => item.data.name === categoryName)[0];\n      let count = categoryData ? categoryData.children.reduce((sum, item) => sum + item.data.count, 0) : 0;\n      let titleText = categoryName;\n      let titleOpacity = (categoryData) ? 1 : 0.6;\n\n      return {text: titleText, opacity: titleOpacity, count: count, category: categoryName};\n    }\n\n    if (data) {\n      return (\n        <div className=\"Timeline-legend\">\n          {Object.entries(COLORS)\n            .map(([category, color], i) => {\n              return getLegendTitleInfo(category);\n            }) // returns a tuple with text at index 0, and opacity at index 1\n            .sort((a, b) => {\n              return b.count - a.count;\n            })\n            .map((legendTextInfo) => {\n              return (\n                <div className=\"Timeline-legend-item\">\n                  <div\n                    className=\"circle\"\n                    style={{ backgroundColor: COLORS[legendTextInfo.category](10) }}\n                  />\n                  <div style={{ opacity: legendTextInfo.opacity || 1, whiteSpace: \"nowrap\" }}>\n                    {legendTextInfo.text || legendTextInfo.category}\n                    <span style={{ fontWeight: \"200\" }}> ({legendTextInfo.count})</span>\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      );\n    }\n  }\n\n  useEffect(() => {\n    d3.selectAll(\"#timeline > *\").remove();\n    d3.selectAll(\"#legend > *\").remove();\n\n    const root = data;\n\n    if (root) {\n      createLegend();   \n      \n      // tooltip\n      d3.select(\"#scrollApp\")\n        .append(\"div\")\n        .attr(\"id\", \"tooltip\")\n        .attr(\"style\", \"position: absolute; opacity: 0;\")\n        .style(\"color\", \"white\")\n        .style(\"background-color\", \"#334e68bb\")\n        .style(\"padding\", \"8px\")\n        .style(\"border-radius\", \"4px\");\n\n      // treemap \n      const svg = d3\n        .select(d3Container.current)\n        .attr(\"viewBox\", [0, 0, width, height])\n        .style(\"font\", \"10px sans-serif\");\n\n      const leaf = svg\n        .selectAll(\"g\")\n        .data(root.leaves())\n        .join(\"g\")\n        .attr(\"transform\", (d) => `translate(${d.x0},${d.y0})`);\n\n      leaf\n        .append(\"rect\")\n        .attr(\"class\", \"timeline-rect\")\n        .attr(\"fill\", (d) => COLORS[d.parent.data.name](10))\n        .attr(\"width\", (d) => d.x1 - d.x0)\n        .attr(\"height\", (d) => d.y1 - d.y0)\n        .on(\"mouseover\", (e, d) => {\n          d3.select(e.target).attr(\"stroke-width\", 3).attr(\"stroke\", \"var(--light-text)\");\n          d3.select(\"#tooltip\")\n            .transition()\n            .duration(200)\n            .style(\"opacity\", 1)\n            .text(`'${fixProfanity(d.data.name)}' was altered in ${d.data.count} Kids Bop lyrics`);\n        })\n        .on(\"mousemove\", (e) => {\n          d3.select(\"#tooltip\")\n            .style(\"left\", e.pageX + 10 + \"px\")\n            .style(\"top\", e.pageY - 10 + \"px\");\n        })\n        .on(\"mouseout\", (e) => {\n          d3.select(e.target).attr(\"stroke-width\", 0).style(\"filter\", null);\n          d3.select(\"#tooltip\").transition().duration(200).style(\"opacity\", 0);\n        })\n        .on(\"click\", (_, d) => {\n          openModal();\n          loadDataIntoPopup(d);      \n        });\n      \n      d3.select(\"#root\").append(\"div\").attr(\"id\", \"Test\");\n      leaf\n        .append(\"text\")\n        .text((d) => shouldShowLabel(d) ? fixProfanity(d.data.name) : \"\")\n        .attr(\"id\", (d) => \"word-label-\" + d.data.name + \"-\" + d.data.count + \"-\" + year)\n        .attr(\"fill\", (_) => \"var(--light-text)\")\n        .attr(\"x\", 3)\n        .attr(\"y\", \"1em\")\n        .style(\"font-family\", \"Lato\")\n        .style(\"font-size\", (d) => fontScale(d.data.count).toString() + \"pt\" || \"1em\");\n      d3.select(\"#Test\").node().remove();\n\n      // Create Popup Background\n      d3.select(\"#scrollApp\")\n        .append(\"div\")\n        .attr(\"id\", \"timeline-popup-bg\")\n        .style(\"z-index\", \"-10\")\n        .style(\"position\", \"fixed\")\n        .style(\"opacity\", \"0\")\n        .style(\"max-height\", \"100vh\")\n        .style(\"max-width\", \"100vw\")\n        .style(\"min-height\", \"100vh\")\n        .style(\"min-width\", \"100vw\")\n        .style(\"background-color\", \"rgb(0,0,0,.8)\")\n        .style(\"left\", 0)\n        .style(\"top\", 0);\n\n      const loadPopupLeft  = (leaves, category) => {\n\n        // 1. Clear any existing artist HTML nodes\n        d3.selectAll('.timeline-popup-left-item').remove();\n        d3.selectAll('.timeline-popup-subtitle').remove();\n        d3.selectAll('.timeline-popup-right > *').remove();\n\n        // 2 Add header \n        d3.select('.timeline-popup-left')\n          .append(\"h4\")\n          .attr(\"class\", \"timeline-popup-subtitle\")\n          .text(\"Artists\")\n\n        d3.select('.timeline-popup-right')\n          .append(\"h4\")\n          .attr(\"class\", \"timeline-popup-subtitle\")\n          .text(\"Songs\")\n          \n        // 3. Get unique artists\n        let artists = Array.from(d3.group(leaves, leaf => leaf.ogArtist)).sort((a, b) => {\n          return b[1].length - a[1].length;\n        });\n        \n        // 4. Map artist names to HTML elements\n        artists.map((artistData, index) => {\n          d3.select('.timeline-popup-left')\n            .append('div')\n            .attr(\"class\", \"timeline-popup-left-item\")\n            .attr(\"id\", \"timeline-popup-left-\" + index)\n            .text(artistData[0] + \" (\" + artistData[1].length + \")\")\n            .style(\"background-color\", COLORS[category](artistData[1].length))\n            .style(\"border\", () => {\n              // let backgroundBorderColor = \"4px solid \" + COLORS[category](artistData[1].length);\n              return index === 0 ? \"4px solid var(--light-text)\" : 'none';\n            })\n            .on(\"click\", (e) => {\n              e.preventDefault();\n              d3.selectAll(\".timeline-popup-right-song-title\").remove();\n              d3.selectAll(\".timeline-popup-right-lyric-section\").remove();\n              d3.selectAll(\".timeline-popup-left-item\").style(\"border\", \"none\").style(\"color\", \"var(--dark)\");\n              d3.select(e.target).style(\"border\", \"4px solid var(--light-text)\");\n              loadPopupRight(artistData[1], category);\n            })\n            .on(\"mouseover\", (e) => {\n              d3.select(e.target).style(\"background-color\", \"var(--light-text)\");\n            })\n            .on(\"mouseout\", (e) => {\n              d3.select(e.target).style(\"background-color\", COLORS[category](artistData[1].length));\n            });\n        });\n\n        // 4. Load initial song data into right side\n        let firstArtistData = artists[0];\n        let songDataFromFirstArtist = firstArtistData[1];\n        loadPopupRight(songDataFromFirstArtist, category);\n      }\n\n      const loadPopupRight = (allSongs, category) => {\n\n        // 1. Clear any existing artist HTML nodes\n        d3.selectAll('.timeline-popup-right-song-section').remove();\n\n        // 2. Group by song name\n        let uniqueSongs = Array.from(d3.group(allSongs, (d) => d.songName)).sort((a, b) => a[0] < b[0]);\n\n        // 3. Map songs to HTML elements\n        uniqueSongs.map((songData, index) => {\n          let songTitle = songData[0];\n\n          // Create song section container\n          let sectionRef = d3.select('.timeline-popup-right')\n            .append('div')\n            .attr('class', 'timeline-popup-right-song-section')\n            .attr('id', 'timeline-popup-right-song-section-' + index)\n\n          // Add song title to each section\n          sectionRef\n            .append(\"div\")\n            .attr(\"class\", \"timeline-popup-right-song-title\")\n            .style(\"background-color\", COLORS[category](10))\n            .attr('id', 'timeline-popup-right-song-title-' + index)\n            .text(songTitle)\n\n          // Create lyric section\n          sectionRef\n            .append(\"div\")\n            .attr(\"class\", \"timeline-popup-right-lyric-section\")\n            .attr(\"id\", \"timeline-popup-right-lyric-section-\" + index);\n\n          // Add lyric items to lyric section\n          let ref = d3.select(\"#timeline-popup-right-lyric-section-\" + index)\n          songData[1].map((lyricData, subIndex) => {\n            let childContainer = ref.append(\"div\")\n              .attr(\"class\", \"timeline-popup-right-lyric-item\")\n              .attr(\"id\", \"timeline-popup-right-lyric-item-\" + index + \"-\" + subIndex)\n\n            let kbLyric = lyricData.kbLyric === CUTS_VERSE ? CUTS_VERSE : \"Kidz Bop Lyric: \" + lyricData.kbLyric;\n\n            let comparedLyrics = compareLyricsInTimeline(lyricData);\n            childContainer\n              .append(\"div\")\n              .style(\"width\", \"45%\")\n              .append(\"i\")\n              .text(lyricData.ogArtist)\n              .append(\"div\")\n              .attr(\"class\", `Bubbles-ogLyric ${lyricData.category}`)\n              .style(\"font-style\", \"normal\")\n              .html(\n                hideProfanity ? comparedLyrics.ogLyricHTMLCensored : comparedLyrics.ogLyricHTML\n              );\n            \n            childContainer\n              .append(\"b\")\n              .attr(\"class\", \"Bubbles-arrow\")\n              .style(\"padding-top\", \"4px\")\n              .text(\"\\u2192\");\n\n            childContainer\n              .append(\"div\")\n              .style(\"display\", \"flex\")\n              .style(\"width\", \"45%\")\n              .append(\"i\")\n              .style(\"text-align\", \"right\")\n              .style(\"width\", \"100%\")\n              .text(\"Kidz Bop\")\n              .append(\"div\")\n              .attr(\"class\", `Bubbles-kbLyric ${lyricData.category}`)\n              .style(\"font-style\", kbLyric === CUTS_VERSE ? \"italic\" : \"normal\")\n              .style(\"opacity\", kbLyric === CUTS_VERSE ? \"0.75\" : \"1\")\n              .html(comparedLyrics.kbLyricHTML);\n          })\n        });        \n      }\n\n      const openModal = () => {\n        // 1. Lock Scroll\n        d3.select(\"html\").style(\"overflow\", \"hidden\").style(\"height\", \"100%\");\n\n        // 2. Bring Background to z-index 10\n        d3.select(\"#timeline-popup-bg\")\n          .on(\"click\", () => closeModal())\n          .transition()\n          .duration(200)\n          .style(\"opacity\", 0.6)\n          .style(\"z-index\", \"10\")\n\n        // Create Popup modal\n        d3.select(\"#scrollApp\")\n          .append(\"div\")\n          .attr(\"id\", \"timeline-popup-content\")\n          .attr(\"class\", \"timeline-popup-box\")\n          .style(\"z-index\", \"-10\")\n          .style(\"position\", \"fixed\")\n          .style(\"left\", \"10vw\")\n          .style(\"top\", \"10vh\")\n          .style(\"height\", \"calc(80vh - 64px)\")\n          .style(\"width\", \"calc(80vw - 64px)\")\n          .style(\"opacity\", \"0\");\n\n        // Create Popup close button\n        d3.select(\"#timeline-popup-content\")\n          .append(\"div\")\n          .attr(\"id\", \"timeline-popup-button\")\n          .attr(\"class\", \"timeline-popup-button\")\n          .style(\"position\", \"absolute\")\n          .style(\"right\", \"12px\")\n          .style(\"top\", \"4px\")\n          .style(\"text-align\", \"center\")\n          .style(\"border-radius\", \"50%\")\n          .text(\"\\u00d7\")\n          .on(\"click\", (e) => {\n            e.preventDefault();\n            closeModal();\n          });\n\n        // 3. Bring Background to z-index 11\n        d3.select(\"#timeline-popup-content\")\n          .transition()\n          .duration(200)\n          .style(\"opacity\", 1)\n          .style(\"z-index\", \"11\")\n          .style(\"background-color\", \"var(--dark-secondary)\")\n          .style(\"color\", \"var(--light-text)\");\n\n        // Create Popup title\n        d3.select(\"#timeline-popup-content\")\n          .append(\"div\")\n          .attr(\"class\", \"timeline-popup-header\")\n          .style(\"padding-top\", \"12px\")\n          .style(\"border-radius\", \"12px\");\n\n        d3.select(\".timeline-popup-header\")\n          .append(\"h2\")\n          .attr(\"id\", \"timeline-popup-title\")\n          .attr(\"class\", \"timeline-popup-title\")\n  \n        d3.select(\".timeline-popup-header\")\n          .append(\"h3\")\n          .attr(\"id\", \"timeline-popup-category\")\n          .attr(\"class\", \"timeline-popup-category\");\n\n        // Create Popup body\n        d3.select(\"#timeline-popup-content\")\n          .append(\"div\")\n          .attr(\"id\", \"timeline-popup-body\")\n          .attr(\"class\", \"timeline-popup-flex\")\n          .style(\"color\", \"black\");\n\n        // Create Popup left container\n        d3.select('#timeline-popup-body')\n          .append('div')\n          .attr(\"class\", \"timeline-popup-left\" )\n\n        // Create Popup right container\n        d3.select('#timeline-popup-body')\n          .append('div')\n          .attr(\"class\", \"timeline-popup-right\" )\n      }\n\n      const closeModal = () => {\n        // 1. Remove Scroll Lock\n        d3.select(\"html\").style(\"overflow\", \"auto\").style(\"height\", \"auto\");\n\n        // 2. Send Background screen to back\n        d3.select('#timeline-popup-bg')\n          .transition()\n          .duration(200)\n          .style(\"opacity\", \"0\")\n          .style(\"z-index\", -10);\n\n        // 3. Send popup to back\n        d3.select('#timeline-popup-content')\n          .transition()\n          .duration(200)\n          .style(\"opacity\", \"0\")\n          .style(\"z-index\", -10);\n\n        d3.select(\".timeline-popup-left\").remove();\n        d3.select(\".timeline-popup-right\").remove();\n        d3.select(\".timeline-popup-title\").remove();\n        d3.select(\".timeline-popup-category\").remove();\n      }\n\n      const loadDataIntoPopup = (d) => {\n        d3.select(\".timeline-popup-header\") \n\n        //1. Load popup title\n        d3.select(\"#timeline-popup-title\")\n          .text(\"Altered lyrics with '\" + ( hideProfanity ? purify(d.data.name) : d.data.name) + \"' from \" + year)\n\n        d3.select(\"#timeline-popup-category\")\n          .text(\"Category: \" + d.data.category)\n          .style(\"color\", COLORS[d.data.category](7));\n\n        //2. Load Artists name on left menu\n        loadPopupLeft(d.data.leaves, d.data.category);\n      }\n\n      const handleEscape = (e) => {\n        let popupRef = d3.select(\"#timeline-popup-content\");\n        if(e.key === \"Escape\" && popupRef.node() !== null){\n          const isModalOpen = popupRef.style(\"z-index\") >= 0;\n          isModalOpen && closeModal();\n        }\n      }\n      document.addEventListener(\"keydown\", handleEscape);\n\n      return svg.node();\n    }\n  }, [data, hideProfanity]);\n\n\n  useEffect(() => {\n    d3.select(\"#root\").append(\"div\").attr(\"id\", \"Test\");\n\n    d3.selectAll(\"*[id^='word-label']\")\n      .text((d) => shouldShowLabel(d) ? fixProfanity(d.data.name) : \"\");\n\n    d3.select(\"#Test\").node().remove();\n\n    d3.selectAll('.timeline-rect')\n      .on(\"mouseover\", (e, d) => {\n        // d3.select(e.target).attr(\"stroke-width\", 8).attr(\"stroke\", \"var(--light-text)\");\n        d3.select(\"#tooltip\")\n          .transition()\n          .duration(200)\n          .style(\"opacity\", 1)\n          .text(`'${fixProfanity(d.data.name)}' was altered in ${d.data.count} Kids Bop lyrics`);\n      })\n      \n  }, [hideProfanity])\n\n  const toggleProfanity = () => {\n    console.log('here');\n    setHideProfanity(!hideProfanity);\n  }\n\n  const shouldShowLabel = (d) => {\n    let fontSize = fontScale(d.data.count).toString() + \"pt\";\n    let textBox = d3.select(\"#Test\").style('font-size', fontSize).style(\"font-family\", \"Lato\").text(d.data.name).node().getBoundingClientRect();\n    let textWidth = textBox.width + 1;\n    let textHeight = textBox.height;\n      \n    let boxHeight = d.y1 - d.y0;\n    let boxWidth = d.x1 - d.x0;\n    return ( textWidth <= boxWidth ) && (textHeight <= boxHeight);\n  }\n\n  return (\n    <div className=\"page-container\">\n      <h1 className=\"title\">What's being altered in pop songs over time?</h1>\n      <div className=\"subtitle\">\n        Click on each year to see which lyrics by category were altered the most that year.\n      </div>\n      <div id=\"timeline-wrapper\" className=\"timeline-container\">\n        <div className=\"timeline-svg-wrapper\">\n          <svg\n            className=\"d3-component\"\n            width=\"800px\"\n            height=\"500px\"\n            x=\"10%\"\n            ref={d3Container}\n            id=\"timeline\"\n          />\n        </div>\n        <div className=\"timeline-middle-column\">\n          {createLegend()}\n          <div className=\"profanity-container\">\n            <input\n              type=\"checkbox\"\n              checked={hideProfanity}\n              onChange={toggleProfanity}\n              id=\"profanity-toggle\"\n            ></input>\n            <label for=\"profanity-toggle\">Hide Curse Words</label>\n            <div className=\"timeline-profanity-ack\">\n              Profanity Filter provided by{\" \"}\n              <a\n                className=\"timeline-profanity-ack-link\"\n                href=\"https://github.com/KanoComputing/nodejs-profanity-util\"\n                target=\"_blank\"\n                rel=\"noreferrer\"\n              >\n                Kano Computing's NodeJS Profanity Filter\n              </a>\n            </div>\n          </div>\n        </div>\n        <YearScroller year={year} onChange={(newYear) => setYear(newYear)} />\n      </div>\n    </div>\n  );\n};\n\nexport default Timeline;\n","import { Carousel } from 'react-responsive-carousel';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\nimport { Step1, Step2a, Step2b, Step2c, Step2d } from \"./StorySteps\";\n\nconst TutorialStep = () => {\n  return (\n    <div>\n      <Carousel dynamicHeight={false} showStatus={false} showThumbs={false}>\n        <Step1 />\n        <Step2a />\n        <Step2b />\n        <Step2c />\n        <Step2d />\n      </Carousel>\n    </div>\n  );\n}\n\nexport default TutorialStep;","import { useState } from \"react\";\nimport \"./App.css\";\nimport { Scrollama, Step } from 'react-scrollama'\nimport BubbleStep from \"./steps/BubbleStep\";\nimport { IntroStep } from './steps/StorySteps';\nimport Timeline from './Timeline';\nimport TutorialStep from \"./steps/TutorialStep\";\n\nexport const VIEW_ALL_OPTION = {\n  label: \"your favorite artist\",\n  value: \"all\",\n  type: \"all\",\n};\n\nconst App = () => {\n  const [currentStepIndex, setCurrentStepIndex] = useState(null);\n\n  const onStepEnter = ({ data }) => {\n    setCurrentStepIndex(data);\n  };\n\n  return (\n    <div className=\"App\" id=\"scrollApp\">\n      <Scrollama onStepEnter={onStepEnter}>\n        <Step\n          data={0}\n          key={0}\n          style={{\n            opacity: currentStepIndex === 0 ? 1 : 0.2,\n          }}\n        >\n          <div \n            className=\"App-step\"\n            style={{\n              height: \"100vh\",\n              display: \"flex\",\n              flexDirection: \"row\",\n            }}\n          >\n            <IntroStep />\n          </div>\n        </Step>\n        <Step data={1} key={1}>\n          <div  \n            className=\"App-step\"\n            style={{\n              padding: 0,\n              opacity: currentStepIndex === 1 ? 1 : 0.2,\n            }}\n          >\n            <Timeline />\n          </div>\n        </Step>\n        <Step data={3} key={3}>\n          <div\n            className=\"App-step\"\n            style={{\n              opacity: currentStepIndex === 3 ? 1 : 0.2,\n            }}\n          >\n            <TutorialStep />\n          </div>\n        </Step>\n        <Step data={4} key={4}>\n          <div\n            className=\"App-step\"\n            style={{\n              padding: 0,\n              opacity: currentStepIndex === 4 ? 1 : 0.2,\n            }}\n          >\n            <BubbleStep shouldFocus={currentStepIndex === 4} />\n          </div>\n        </Step>\n      </Scrollama>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport \"./About.css\";\nimport { Carousel } from \"react-responsive-carousel\";\nimport { Link } from \"react-router-dom\";\n\nconst About = () => {\n  return (\n    <div className=\"About-page\">\n      <div className=\"About-container\">\n        <div className=\"About-carousel\">\n          <Carousel showStatus={false} showThumbs={false}>\n            <section id=\"carousel1\" className=\"About-section\">\n              <div>\n                <p className=\"About-title About-white-background\">Exploring Censorship and Lyric Alterations in Kidz Bopz Music from 2001-2019</p>\n                <p className=\"About-team About-white-background\">\n                  Nico Salinas, Shannen Wu {\"&\"} Jessica Yin\n                </p>\n              </div>\n              <Link to=\"/app\" className=\"launch-button\">\n                Launch Visualization App\n              </Link>\n            </section>\n            <section id=\"carousel2\" className=\"About-section About-section-white-background\">\n              <h2>ABSTRACT GOES HERE</h2>\n            </section>\n\n            <section id=\"carousel3\" className=\"About-section About-section-white-background\">\n              <h2>VIDEO DEMO HERE</h2>\n            </section>\n\n            <section id=\"carousel4\" className=\"About-section About-section-white-background\">\n              <h2>INSTALLATION DEMO INSTRUCTIONS</h2>\n              <div className=\"About-section-info\">\n                <h4>Dataset URL: <a href=\"https://github.com/the-pudding/data/tree/master/kidz-bop\">https://github.com/the-pudding/data/tree/master/kidz-bop</a></h4>\n                \n                <h4>Installation</h4>\n                <ol>\n                  <li>Locally clone the repository</li>\n                  <li>Run <code>npm install</code> to install all node dependices</li>\n                  <li>To test locally, run <code>npm start</code> and open a Chrome tab at <code>http://localhost:3000</code></li>\n                </ol>\n                \n                <h4>Deployment</h4>\n                The deployed site is managed by GitHub Pages. To deploy this repo:\n                <ol>\n                  <li>Run <code>npm run predeploy</code></li>\n                  <li>Run <code>npm run deploy</code></li>\n                  <li>Visit the deployed site at <a href=\"https://6859-sp21.github.io/final-project-adultz-bopz-fp/\">https://6859-sp21.github.io/final-project-adultz-bopz-fp/</a></li>\n                </ol>\n              </div>\n            </section>\n          </Carousel>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default About;\n","import React from \"react\";\nimport App from \"./App\";\nimport About from \"./About\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nconst RouterWrapper = () => {\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/app\">\n          <App />\n        </Route>\n        <Route path=\"/\">\n          <About />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nexport default RouterWrapper;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport RouterWrapper from \"./RouterWrapper\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <RouterWrapper />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}